!function(a,b){function c(a,b){var c,d,e=5,f=e/2,g=Math.floor(b/2);return 1===a?c=0:a===b&&(d=0),2===b?1===a?d=f:c=f:3===b?1===a?d=f:2===a?(d=f*(b-a),c=f*(b-a)):c=f:1===a?d=f*(b-1):a===b?c=f*a:a===g&&b%2!==0?(c=f*a,d=f*a):(c=f*a,d=f*(b-a)),{left:c,right:d}}function d(a){"function"==typeof a.trigger&&a.trigger("mount"),a.elements&&a.elements.forEach(d)}function e(){this.node={document:i("div")}}function f(a,b){this.root=a,this.target=b,"undefined"==typeof a.elements&&(a.elements=[])}function g(a){return"function"==typeof a.name&&a.name()?a.name():!!(a.constructor.name&&a.node&&a.node.document)&&j.camelCase(a.constructor.name)}var h="undefined"!=typeof module&&"function"==typeof require,i=h?require("flatman").el:window.el,j=h?require("lodash"):window._;e.extend=function(a){a.prototype.addClass||(a.prototype.addClass=e.prototype.addClass),a.prototype.append||(a.prototype.append=e.prototype.append),a.prototype.appendTo||(a.prototype.appendTo=e.prototype.appendTo),a.prototype.attr||(a.prototype.attr=e.prototype.attr),a.prototype.column||(a.prototype.column=e.prototype.column),a.prototype.mount||(a.prototype.mount=e.prototype.mount),a.prototype.name||(a.prototype.name=e.prototype.name),a.prototype.off||(a.prototype.off=e.prototype.off),a.prototype.on||(a.prototype.on=e.prototype.on),a.prototype.removeClass||(a.prototype.removeClass=e.prototype.removeClass),a.prototype.style||(a.prototype.style=e.prototype.style),a.prototype.target||(a.prototype.target=e.prototype.target),a.prototype.trigger||(a.prototype.trigger=e.prototype.trigger)},e.prototype.addClass=function(a){return this.node.document.addClass(a),this},e.prototype.append=function(){for(var a=0,b=arguments.length,c=[],d=e.prototype.target.call(this,this.node.document);a<b;a++)c.push(arguments[a]);d.append.apply(d,c)},e.prototype.appendTo=function(a){var b;if("string"==typeof a)b=document.querySelector(a);else if(a&&i.isElement(a))b=a;else{if(!a||!i.isElement(a.node))throw"error 'Component.prototype.appendTo', invalid target '"+Object.prototype.toString.call(a)+"'";b=a.node}return this.node.document.appendTo(a),"function"==typeof this.trigger&&b&&document.body.contains(b)&&d(this),this},e.prototype.attr=function(a,b){return"undefined"==typeof b?this.node.document.attr(a):void this.node.document.attr(a,b)},e.prototype.column=function(){var a=Array.isArray(arguments[0]),b=a?arguments[0][0]:arguments[0],d=a?arguments[0][1]:arguments[1],e=(a?arguments[0][2]:arguments[2])||100/d,f=c(b,d);return this.node.document.style({paddingLeft:f.left,paddingRight:f.right,width:e+"%"}),this},e.prototype.disable=function(){for(var a=0,b=this.elements?this.elements.length:0;a<b;a++)this.elements[a].disable();return this.node.document.disable(),this},e.prototype.enable=function(){for(var a=0,b=this.elements?this.elements.length:0;a<b;a++)this.elements[a].enable();return this.node.document.enable(),this},e.prototype.mount=function(){function a(b){b.trigger("mount"),b.node.document&&b.node.document.trigger("mount"),b.elements&&b.elements.forEach(a)}a(this)},e.prototype.name=function(a){return"undefined"==typeof a?this.node.document.name():(this.node.document.name(a),this)},e.prototype.off=function(a,b){for(var c,d,e=a.split(",").filter(function(a){return a.length}),f=0,g=e.length;f<g;f++){if(d=e[f].trim(),"undefined"==typeof this.subscribers[d])throw"There are no subscribers for '"+d+"'";c=this.subscribers[d].indexOf(b),c!==-1&&this.subscribers[d].slice(c,1)}return this},e.prototype.on=function(a,b){var c,d=j.filter(a.split(","),function(a){return a.length}),e=0,f=d.length;for("undefined"==typeof this.subscribers&&(this.subscribers={});e<f;e++)c=d[e].trim(),"undefined"==typeof this.subscribers[c]&&(this.subscribers[c]=[]),this.subscribers[c].indexOf(b)===-1&&this.subscribers[c].push(b);return this},e.prototype.removeClass=function(a){return this.node.document.removeClass(a),this},e.prototype.style=function(a,b){return this.node.document.style(a,b),this},e.prototype.target=function(a){return new f(this,a)},e.prototype.trigger=function(a,b){var c,d,e,f=a.split(",").filter(function(a){return a.length}),g=0,h=f.length;for("undefined"==typeof b?b={type:a,target:this}:"undefined"==typeof b.type&&(b.type=a,b.target=this),"undefined"==typeof this.subscribers&&(this.subscribers={});g<h;g++)if(c=f[g].trim(),"object"==typeof this.subscribers[c])for(d=0,e=this.subscribers[c].length;d<e;d++)this.subscribers[c][d].call(this,b);return this},f.prototype.append=function(){for(var a=0,b=arguments.length,c=[],d=[];a<b;a++)c.push(arguments[a]),d=g(arguments[a]),d&&!this.root.node[d]&&(this.root.node[d]=arguments[a]);this.root.elements.push.apply(this.root.elements,c),this.target.append.apply(this.target,c),"object"==typeof document&&this.target.hasParent(document.body)&&this.root.mount()},"object"==typeof window?window.Component=e:"object"==typeof module&&module.exports&&(module.exports=e),b.true=a}({},function(){return this}());